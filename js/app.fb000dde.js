(function(t){function e(e){for(var o,r,s=e[0],c=e[1],u=e[2],p=0,d=[];p<s.length;p++)r=s[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},a={app:0},i=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/autocaption/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h1",[t._v("Autocaption")]),n("h4",[t._v("Automatic image caption generation")]),n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm picture"},[n("picture-input",{ref:"pictureInput",attrs:{width:"400",height:"400",margin:"16",accept:"image/jpeg,image/png",size:"10","button-class":"btn-sm btn-secondary",removeButtonClass:"btn-sm btn-secondary",removable:!0,customStrings:{upload:"<h1>Bummer!</h1>",drag:"Choose a picture"}},on:{change:t.onChange}}),n("button",{staticClass:"btn btn-sm btn-light",on:{click:function(e){return t.submitFile()}}},[t._v("Generate caption")])],1),n("div",{staticClass:"col-sm d-flex flex-column justify-content-center align-items-center"},[n("div",{staticClass:"top"},[t._v("Top 5 generated caption:")]),1==this.loading?n("Spinner",{attrs:{size:"medium"}}):t._e(),n("ol",{staticClass:"captions"},t._l(t.captions,(function(e){return n("li",{key:e},[t._v(" "+t._s(e)+" ")])})),0)],1)])]),n("a",{staticClass:"text-decoration-none",attrs:{href:"https://github.com/nhabbash/autocaption"}},[t._v("View project on GitHub")]),t._m(0)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{staticClass:"notes"},[t._v(" Note: the API is hosted on Heroku and it might take some time to generate the first captions (the dyno has to start up). After that it takes roughly 10s to generate a caption. ")])])}],r=n("bc3a"),s=n.n(r),c=n("e597"),u=n("5b7e"),l=n.n(u),p={name:"app",data:function(){return{captions:[],image:"",loading:!1}},components:{PictureInput:c["a"],Spinner:l.a},methods:{onChange:function(t){this.captions=[],console.log("New picture selected!"),t?(console.log("Picture loaded."),this.image=this.$refs.pictureInput.file):console.log("FileReader API not supported: use the <form>, Luke!")},submitFile:function(){var t=this;if(this.image){var e=new FormData;e.append("file",this.image),this.loading=!0,s.a.post("/predict",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.captions=e.data.candidates,t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))}else console.log("No picture uploaded.")}}},d=p,f=(n("034f"),n("2877")),h=Object(f["a"])(d,a,i,!1,null,null,null),g=h.exports;s.a.defaults.baseURL="https://autocaption-api.herokuapp.com/",o["a"].config.productionTip=!1,o["a"].config.devtools=!0,new o["a"]({render:function(t){return t(g)}}).$mount("#app")},"85ec":function(t,e,n){}});
//# sourceMappingURL=app.fb000dde.js.map